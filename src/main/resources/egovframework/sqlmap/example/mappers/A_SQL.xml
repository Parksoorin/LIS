<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.a.mapper.AMapper">
	<insert id="joinUserA"
		parameterType='egovframework.a.model.UserADTO'>
		INSERT INTO USER (
		id, password
		) values(
		#{id},
		#{password}
		)
	</insert>

	<!-- 데이터베이스에 같은 userId가 있는지 체크하는 쿼리문 -->
	<select id="findOne" parameterType='String' resultType="int">
		select
		count(id)
		from user
		where id = #{id}
	</select>

	<select id="loginA"
		parameterType='egovframework.a.model.UserADTO'
		resultType="egovframework.a.model.UserADTO">
		select id, password
		from user
		where id = #{id} and password =
		#{password}
	</select>

	<select id="lisc500" resultType="egovframework.a.model.lisc500DTO">
		select TEST_CODE, TEST_NAME, JUNDAL_PART, TEST_GUBUN, KUKUK,
		IN_DANUI, OUT_DANUI, CHANGE_QTY, BARCODE_IN_YN, BARCODE_DIV, BARCODE_STORE_YN,
		STORE_DANUI, BARCODE_OUT_YN, EXP_DAY, EXP_OPEN_DAY, KEEP_NAME,
		KEEP_OPEN_NAME, SUPPLIER_NAME, JEJO_NAME, BARCODE, DANGA, LOT_NO,
		START_DATE, END_DATE, HOSPITAL_CODE
		from lisc500
		order by TEST_CODE, TEST_NAME;
	</select>
	
	<select id="lisc100" resultType="egovframework.a.model.lisc100DTO">
		select TEST_CODE, GUMSA_NAME1 
		from lisc100
		order by TEST_CODE, GUMSA_NAME1;
	</select>

	<select id="lisc501" parameterType="String" resultType="egovframework.a.model.lisc501DTO">
		select lisc501.TEST_CODE, lisc100.GUMSA_NAME1 
		from lisc501
		left join lisc500 on lisc500.TEST_CODE = lisc501.INV_CODE
		left join lisc100 on lisc100.TEST_CODE = lisc501.TEST_CODE
		where lisc501.INV_CODE = #{listData};
	</select>
</mapper>
